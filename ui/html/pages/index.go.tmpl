{{define "index"}}
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@3.9.2/dist/full.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  {{template "nav" .}}
  <!-- Dropdown for setting the limit -->
    <select id="limitSelector">
      <option value="5">5 Posts</option>
      <option value="10">10 Posts</option>
      <option value="20">20 Posts</option>
    </select> 
  <body class="container mx-auto">
  {{with .Flash }}
    <div class="alert alert-success">
      <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
      <span>{{.}}</span>
    </div>
    {{end}}
    <h1 class="font-bold text-2xl my-16">RSS FEED</h1>
    <button class="btn" hx-get="/posts" hx-vars="limit:document.getElementById('limitSelector').value" hx-swap="outerHTML" hx-target="#posts">
      Load feeds
    </button>
    {{template "create_feed_form" .}}
    <div class="grid grid-cols-4 gap-4">
      <div id="posts"></div>
    </div>
  </body>
</html>
{{end}}
